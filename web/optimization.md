## 网站打开慢
### 思路
#### 1. 查找原因
1. 在MySQL中使用`show full processlist`
2. `uptime`
3. `top`+`strace -p 14094`
#### 2. 根据原因解决问题
### 1. MySQL的`like '%杜冷丁%'`这样的语句太多
#### 分析
1. MySQL中`like '%xx%'`的语句不能使用索引,难优化.而`like 'xx%'`倒是可以使用索引
2. `like '%xx%'`语句多是因为网站有一个搜索框,只要搜索xx,就会使用该语句
#### 解决
1. 只有登录才能进行搜索(短期)
2. 通过日志查看是不是有人爬站,通过IP干掉她(短期)
3. 在前端设置memcached服务器(长期)
4. 数据库读写分离(长期)
5. 使用Sphinx搜索服务实现搜索
6. 利用c,Ruby开发程序,实现每日读库计算搜索索引
