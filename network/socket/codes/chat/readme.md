    
## 1. 点对点聊天程序
### 1-1. 难点
1. 程序如何在读取对方套接字数据的同时,接收键盘输入呢?=>2个进程,一个读取套接字信息,一个获取键盘数据
2. 如果接收套接字的进程知道对方关闭套接字后,自己可以用exit直接退出进程,但另一个进程怎么办?
    1. 进程间的通信
        1. 发出信号:kill (`kill -l`查看信号列表,其中SIGUSR1和SIGUSR2是自定义信号,用户可以自由发挥)
        2. 处理信号:signal=>为某个信号做处理函数
### 1-2. 使用
```
make 
./server
./client
# 然后聊天就可以了
```
### 1-3. 实现思路
#### 1-3-1. 服务器端
1. 创建服务器的套接字.套接字是一个文件描述符
    1. 使用什么协议(这里是TCP/IP协议)
    2. create an ip addr & bind the socket to it
2. 绑定套接字到本机
3. 另套接字处于监听状态
4. 使用accept获得对方的套接字等信息时,对方套接字的长度一定要初始化
5. 关闭监听套接字,因为2个进程都不需要了
6. 子进程接收对方套接字传递过来的数据
    1. 定义接收数据的变量
    2. 循环开始:通过连接套接字获取对方信息并保存到变量中
        1. 如果获取失败,就退出进程
        2. 如果获取大小为0,说明对方关闭了套接字,就退出循环
        3. 如果获取成功,就输出对方信息
        4. 清空变量自己
        5. 循环结束
    3. 通知父进程结束自己
    4. 子进程关闭连接套接字
    5. 子进程也退出
7. 父进程接收键盘数据
    1. 父进程定义信号处理函数,这样子进程可以发送信号过来叫父进程自己消灭自己
        1. 直接退出
    2. 定义接收键盘数据的变量
    3. 循环开始:接收键盘输入,并且存储到变量中
        4. 将变量中的数据发送给对方套接字
        5. 重新清空变量的内容
        6. 循环结束
#### 1-3-2. 客户端
1. 创建套接字
2. 连接套接字到本机
3. 子进程接收对方套接字传递过来的数据
    1. 定义接收数据的变量
    2. 循环开始:通过连接套接字获取对方信息并保存到变量中
        1. 如果获取失败,就退出进程
        2. 如果获取大小为0,说明对方关闭了套接字,就退出循环
        3. 如果获取成功,就输出对方信息
        4. 清空变量自己
        5. 循环结束
    3. 通知父进程结束自己
    4. 子进程关闭连接套接字
    5. 子进程也退出
4. 父进程接收键盘数据

    1. 父进程定义信号处理函数,这样子进程可以发送信号过来叫父进程自己消灭自己
        1. 直接退出进程
    2. 定义接收键盘数据的变量
    3. 循环开始:接收键盘输入,并且存储到变量中
        1. 将变量中的数据发送给对方套接字
        2. 重新清空变量的内容
        3. 循环结束
