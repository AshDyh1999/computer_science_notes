## 1. `${}`,`##`,`%%`
### 1-1. 规则
1. `${}`可以用来指定变量名的范围.如`${dir}_flag`指的是$dir这个变量
2. `5:5`指的是从第5个位置开始的前5个 
3. `/`或`.`都可以替换成其他字符,如`,`等
```
file=/dir1/dir2/dir3/my.file.txt
${file#*/}：删掉第一个 / 及其左边的字符串：dir1/dir2/dir3/my.file.txt
${file##*/}：删掉最后一个 /  及其左边的字符串：my.file.txt
${file#*.}：删掉第一个 .  及其左边的字符串：file.txt
${file##*.}：删掉最后一个 .  及其左边的字符串：txt
${file%/*}：删掉最后一个  /  及其右边的字符串：/dir1/dir2/dir3
${file%%/*}：删掉第一个 /  及其右边的字符串：(空值)
${file%.*}：删掉最后一个  .  及其右边的字符串：/dir1/dir2/dir3/my.file
${file%%.*}：删掉第一个  .   及其右边的字符串：/dir1/dir2/dir3/my
${file:0:5}：提取最左边的 5 个字节：/dir1
${file:5:5}：提取第 5 个字节右边的连续5个字节：/dir2
```
#### shell中获取文件名也可以用basename命令.只需要文件路径一个参数就可以了
第二个参数可以跟它的后缀名,从而把后缀名也能剔除掉
```
basename include/stdio.h .h     -> "stdio"
```
#### 将当前目录下的所有文件的后缀名改成.bak
1. 遍历当前文件夹用\*.\*表示所有文件. 
2. 获取当前文件,用for循环 
3. 解析字符串尤其是文件夹,用${}的语法
```
#! /bin/sh

for i in *.*
do
	mv $i ${i%.*}."$1"
done
```
#### 例子
${}里面的变量不用$来获取
```
file=/dir1/dir2/dir3/my.file.txt
echo ${file#*/}
```



